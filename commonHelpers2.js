var F=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var L=(t,e,s)=>(F(t,e,"read from private field"),s?s.call(t):e.get(t)),h=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)};import{a as l,i as A,b as G,P as B}from"./assets/vendor-d17572db.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const E=Object.freeze({BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",RATING:"/rating",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription"}),O=document.querySelector(".daily-quote"),{BASE_URL:U,QUOTE:q}=E;l.defaults.baseURL=U;const M=async()=>{try{const t=await l.get(q);D(t.data)}catch(t){console.error(t)}},D=({author:t,quote:e})=>{O.innerHTML=`<p class="daily-quote-text">${e}</p>
    <h4 class="daily-quote-author">${t}</h4>`};M();const{BASE_URL:N,FILTERS:j}=E;l.defaults.baseURL=N;const H=async(t="Muscles",e=1,s=12)=>{const i=new URLSearchParams({filter:t,limit:s,page:e});return(await l.get(`${j}?${i}`)).data},k=document.querySelector(".exercises_nav");document.querySelector(".exercises_search");const K=async t=>{try{let e=t.target,s=e.textContent.trim(),i=document.querySelector(".exercises__nav-item-current");const r=(c,u)=>{c.classList.remove("exercises__nav-item-current"),u.classList.add("exercises__nav-item-current")},o=await H(s);console.log(o),r(i,e)}catch(e){console.error(e)}};k.addEventListener("click",K);const{BASE_URL:W,EXERCISES:V}=E;l.defaults.baseURL=W;const Q=async(t,e,s=1,i=10)=>{const r=new URLSearchParams({[t]:e,limit:i,page:s}),o=await l.get(`${V}?${r}`);return console.log(o.data),o.data},X=document.querySelector(".exercises_search-img"),Y=async()=>{const t=await Q("abs","heel");console.log(t.data)};X.addEventListener("click",Y);const S="selected-category",x="selected-group",m="is-exercises-list-visible",b="group-page",P="exercises-page",w="exercises-keyword",z="Muscles";class J{setExercisesListVisible(){sessionStorage.setItem(m,"true")}setExercisesListHidden(){sessionStorage.setItem(m,"false")}isExercisesListVisible(){return sessionStorage.getItem(m)==="true"}setFilterCategory(e){sessionStorage.setItem(S,e)}getFilterCategory(){return sessionStorage.getItem(S)??z}setGroup(e){sessionStorage.setItem(x,e)}getGroup(){return sessionStorage.getItem(x)??""}setGroupPage(e){sessionStorage.setItem(b,e.toString())}getGroupPage(){const e=sessionStorage.getItem(b);return e?Number(e):1}getExercisesPage(){const e=sessionStorage.getItem(P);return e?Number(e):1}setExercisesPage(e){sessionStorage.setItem(P,e.toString())}setExercisesKeyword(e){sessionStorage.setItem(w,e)}getExercisesKeyword(){return sessionStorage.getItem(w)??""}}const n=new J,a={body:document.querySelector("body"),groupListWrapper:document.querySelector(".group-list-wrapper"),groupList:document.getElementById("js-group-list"),groupListPagination:document.getElementById("js-group-list-pagination"),filtersTabs:document.getElementById("filters-tabs"),filtersTabsList:document.querySelectorAll(".filters-tab"),searchInputElement:document.querySelector(".search-input"),searchClearButton:document.querySelector(".search-button-clear"),searchForm:document.querySelector(".search-form"),exercisesWrapper:document.querySelector(".exercises-list-wrapper")};var d;class Z{constructor(){h(this,d,"https://your-energy.b.goit.study/api")}async fetchData(e,s="GET",i){const o={headers:{"Content-Type":"application/json"},method:s,body:i?JSON.stringify(i):null};try{const c=await fetch(`${L(this,d)}${e}`,o);if(!c.ok)throw new Error(`Error: status: ${c.status}, ${c.statusText}`);return await c.json()}catch(c){throw A.error({title:"Error",message:`Fetch error: ${c.message}`,position:"topRight"}),new Error(`Fetch error: ${c.message}`)}}async getExercisesFilter(e){const i=`/filters?${new URLSearchParams(e)}`;return await this.fetchData(i)}async getExercises({filterCategory:e,group:s,keyword:i="",page:r=1}){const c=`/exercises?${new URLSearchParams({[e]:s,keyword:i,page:r,limit:12})}`;return await this.fetchData(c)}}d=new WeakMap;const y=new Z;function ee(t){return t.map(({filter:e,name:s,imgURL:i})=>{const r=`data-filter="${e}"`,o=`data-group="${s}"`;return`
        <li class="group-list-card" ${r} ${o}>
          <img class="group-list-card-img" src="${i}" alt="${e} - ${s}" ${r} ${o}></img>
          <div class="group-list-card-info" ${r} ${o}>
          <h2 class="group-list-card-title" ${r} ${o}>${s}</h2>
          <p class="group-list-card-text" ${r} ${o}>${e}</p>
          </div>
        </li>
      `}).join("")}function te(){const t=a.groupList;t.style.opacity="0",G({targets:t,opacity:[0,1],duration:300,easing:"easeOutQuad",complete:()=>{a.groupListPagination.style.display="flex"}})}function C(t,e){t.innerHTML="",te(),t.insertAdjacentHTML("beforeend",ee(e))}function se({currentPage:t,perPage:e,totalItems:s,totalPages:i,onChange:r}){const o="js-group-list-pagination",c=a.groupListPagination;i>1&&!n.isExercisesListVisible()?c.classList.remove("is-hidden"):c.classList.add("is-hidden");const u={page:Number(t),itemsPerPage:e,totalItems:s,centerAlign:!0,template:{page:'<button href="#">{{page}}</button>',currentPage:'<button href="#" class="is-active">{{page}}</button>',moveButton:'<button href="#" class="is-hidden"></button>',disabledMoveButton:'<button href="#" class="is-hidden"></button>',moreButton:'<button href="#" class="is-hidden"></button>'}};new B(o,u).on("beforeMove",g=>{const _=g.page;r(_)})}async function re(t){const e=n.getFilterCategory(),s=await y.getExercisesFilter({page:t,filter:e}),{results:i}=s,r=a.groupList;C(r,i)}async function I({page:t,filter:e}){const s=await y.getExercisesFilter({page:t,filter:e}),{results:i,page:r,perPage:o,totalPages:c}=s,u=c*o;se({currentPage:r,perPage:o,totalItems:u,totalPages:c,onChange:g=>{n.setGroupPage(g),re(g)}});const f=a.groupList;C(f,i)}function oe(t){return t.map(({name:e})=>`<li class="exercise-card">
          <div>
            <div>Name - ${e}</div>
          </div>
        </li>`).join("")}function ie(t,e){if(t.innerHTML="",!e||e.length===0){t.insertAdjacentHTML("beforeend",`<li class="error-card">
        There are no exercises matching your search. Please try another term.
      </li>`);return}t.insertAdjacentHTML("beforeend",oe(e))}const v={MUSCLES:"muscles",BODY_PARTS:"bodyparts",EQUIPMENT:"equipment"};async function p(){let t=n.getFilterCategory(),e=n.getGroup();t=t.toLowerCase().split(" ").join(""),t===v.BODY_PARTS&&(t=t.slice(0,-1)),e=e==null?void 0:e.toLowerCase();const s=n.getExercisesPage(),i=n.getExercisesKeyword(),r=await y.getExercises({filterCategory:t,group:e,page:s,keyword:i});a.searchInputElement.value=i??"",ie(a.exercisesWrapper,r.results)}function T(){n.setExercisesListVisible(),a.groupListWrapper.classList.add("is-hidden"),a.searchForm.classList.remove("is-hidden"),a.exercisesWrapper.classList.remove("is-hidden")}function $(){n.setExercisesListHidden(),a.groupListWrapper.classList.remove("is-hidden"),a.searchForm.classList.add("is-hidden"),a.exercisesWrapper.classList.add("is-hidden")}const ae=n.getGroupPage(),R=n.getFilterCategory();a.groupListPagination.style.display="none";I({page:ae,filter:R});n.isExercisesListVisible()?(p(),T()):$();a.filtersTabsList.forEach(t=>{t.textContent.trim()===R&&t.classList.add("is-active")});a.searchClearButton.addEventListener("click",t=>{a.searchInputElement.value="",n.setExercisesKeyword(""),n.setExercisesPage(1),p()});a.groupList.addEventListener("click",t=>{let e=t.target.dataset.filter,s=t.target.dataset.group;s=s==null?void 0:s.toLowerCase(),e&&s&&(n.setGroup(s),n.setFilterCategory(e),p(),T())});a.filtersTabs.addEventListener("click",t=>{a.filtersTabsList.forEach(s=>{s.classList.remove("is-active")}),t.target.classList.add("is-active");const e=t.target.textContent.trim();a.groupList.innerHTML="",$(),n.setFilterCategory(e),n.setGroupPage(1),n.setExercisesPage(1),n.setExercisesKeyword(""),a.searchInputElement.value="",a.groupListPagination.style.display="none",I({page:1,filter:e})});async function ne(t){t.preventDefault();let e=n.getFilterCategory().toLowerCase(),s=n.getGroup().toLowerCase();e=e.toLowerCase().split(" ").join(""),e===v.BODY_PARTS&&(e=e.slice(0,-1)),s=s==null?void 0:s.toLowerCase();const i=t.currentTarget.elements.search.value.trim().toLowerCase()??"";n.setExercisesKeyword(i),n.setExercisesPage(1),p()}a.searchForm.addEventListener("submit",t=>{ne(t)});
//# sourceMappingURL=commonHelpers2.js.map
