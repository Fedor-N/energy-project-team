import{a as l,b as w,P as A}from"./assets/vendor-a6d4c47e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const y=Object.freeze({BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",RATING:"/rating",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription"}),q=document.querySelector(".daily-quote"),{BASE_URL:G,QUOTE:N}=y;l.defaults.baseURL=G;const O=async()=>{try{const t=await l.get(N);U(t.data)}catch(t){console.error(t)}},U=({author:t,quote:e})=>{q.innerHTML=`<p class="daily-quote-text">${e}</p>
    <h4 class="daily-quote-author">${t}</h4>`};O();const{BASE_URL:B,FILTERS:F}=y;l.defaults.baseURL=B;const P=async(t="Muscles",e=1,r=12)=>{const o=new URLSearchParams({filter:t,limit:r,page:e});return(await l.get(`${F}?${o}`)).data},a={body:document.querySelector("body"),groupListWrapper:document.querySelector(".group-list-wrapper"),groupList:document.getElementById("js-group-list"),groupListPagination:document.getElementById("js-group-list-pagination"),exercisesNavList:document.querySelectorAll(".exercises__nav-item"),exercisesWrapper:document.querySelector(".exercises-list-wrapper")},f="selected-category",E="selected-group",p="is-exercises-list-visible",S="group-page",x="exercises-page",h="exercises-keyword",M="Muscles";class j{setExercisesListVisible(){sessionStorage.setItem(p,"true")}setExercisesListHidden(){sessionStorage.setItem(p,"false")}isExercisesListVisible(){return sessionStorage.getItem(p)==="true"}setFilterCategory(e){sessionStorage.setItem(f,e)}getFilterCategory(){return sessionStorage.getItem(f)??M}setGroup(e){sessionStorage.setItem(E,e)}getGroup(){return sessionStorage.getItem(E)??""}setGroupPage(e){sessionStorage.setItem(S,e.toString())}getGroupPage(){const e=sessionStorage.getItem(S);return e?Number(e):1}getExercisesPage(){const e=sessionStorage.getItem(x);return e?Number(e):1}setExercisesPage(e){sessionStorage.setItem(x,e.toString())}setExercisesKeyword(e){sessionStorage.setItem(h,e)}getExercisesKeyword(){return sessionStorage.getItem(h)??""}}const n=new j;function H(t){return t.map(({filter:e,name:r,imgURL:o})=>{const s=`data-filter="${e}"`,i=`data-group="${r}"`;return`
        <li class="group-list-card" ${s} ${i}>
          <img class="group-list-card-img" src="${o}" alt="${e} - ${r}" ${s} ${i}></img>
          <div class="group-list-card-info" ${s} ${i}>
          <h2 class="group-list-card-title" ${s} ${i}>${r}</h2>
          <p class="group-list-card-text" ${s} ${i}>${e}</p>
          </div>
        </li>
      `}).join("")}function D(){const t=a.groupList;t.style.opacity="0",w({targets:t,opacity:[0,1],duration:300,easing:"easeOutQuad",complete:()=>{a.groupListPagination.style.display="flex"}})}function b(t,e){t.innerHTML="",D(),t.insertAdjacentHTML("beforeend",H(e)),W(),t.querySelectorAll(".exercise-card").forEach(o=>{o.addEventListener("click",()=>{const s=o.getAttribute("data-group");k(s)})})}function k(t){const e=document.querySelector(".exercises_name");e.textContent=`/ ${t}`,e.style.display="block",e.style.textTransform="capitalize"}function W(){const t=document.querySelector(".exercises_name");t.style.display="none"}function V({currentPage:t,perPage:e,totalItems:r,totalPages:o,onChange:s}){const i="js-group-list-pagination",c=a.groupListPagination;o>1&&!n.isExercisesListVisible()?c.classList.remove("is-hidden"):c.classList.add("is-hidden");const d={page:Number(t),itemsPerPage:e,totalItems:r,centerAlign:!0,template:{page:'<button href="#">{{page}}</button>',currentPage:'<button href="#" class="is-active">{{page}}</button>',moveButton:'<button href="#" class="is-hidden"></button>',disabledMoveButton:'<button href="#" class="is-hidden"></button>',moreButton:'<button href="#" class="is-hidden"></button>'}};new A(i,d).on("beforeMove",u=>{const T=u.page;s(T)})}async function Q(t){const e=n.getFilterCategory(),r=await P(e,t),{results:o}=r,s=a.groupList;b(s,o)}async function C({page:t,filter:e}){const r=await P(e,t),{results:o,page:s,perPage:i,totalPages:c}=r,d=c*i;V({currentPage:s,perPage:i,totalItems:d,totalPages:c,onChange:u=>{n.setGroupPage(u),Q(u)}});const L=a.groupList;b(L,o)}function I(){n.setExercisesListVisible(),a.groupListWrapper.classList.add("is-hidden"),a.exercisesWrapper.classList.remove("is-hidden")}function v(){n.setExercisesListHidden(),a.groupListWrapper.classList.remove("is-hidden"),a.exercisesWrapper.classList.add("is-hidden")}const K=document.querySelector(".exercises_nav"),X=async t=>{try{let e=t.target,r=document.querySelector(".exercises__nav-item-current");((i,c)=>{i.classList.remove("exercises__nav-item-current"),c.classList.add("exercises__nav-item-current")})(r,e);const s=t.target.textContent.trim();a.groupList.innerHTML="",v(),n.setFilterCategory(s),n.setGroupPage(1),n.setExercisesPage(1),n.setExercisesKeyword(""),a.groupListPagination.style.display="none",C({page:1,filter:s})}catch(e){console.error(e)}};K.addEventListener("click",X);const{BASE_URL:Y,EXERCISES:z}=y;l.defaults.baseURL=Y;const _=async(t,e,r=1,o=10)=>{const s=new URLSearchParams({[t]:e,limit:o,page:r});return(await l.get(`${z}?${s}`)).data},J=document.querySelector(".exercises_search-img"),g=document.querySelector(".exercises_criss-cross-img"),m=document.querySelector(".exercises_search-input"),Z=async()=>{const t=await _("abs","heel");console.log(t.data)};J.addEventListener("click",Z);g.addEventListener("click",()=>{m.value="",g.style.display="none"});m.addEventListener("input",()=>{m.value.length>0?g.style.display="block":g.style.display="none"});function ee(t){return t.map(({name:e})=>`<li class="exercise-card">
          <div>
            <div>Name - ${e}</div>
          </div>
        </li>`).join("")}function te(t,e){if(t.innerHTML="",!e||e.length===0){t.insertAdjacentHTML("beforeend",`<li class="error-card">
        There are no exercises matching your search. Please try another term.
      </li>`);return}t.insertAdjacentHTML("beforeend",ee(e))}const se={MUSCLES:"muscles",BODY_PARTS:"bodyparts",EQUIPMENT:"equipment"};async function R(){let t=n.getFilterCategory(),e=n.getGroup();t=t.toLowerCase().split(" ").join(""),t===se.BODY_PARTS&&(t=t.slice(0,-1)),e=e==null?void 0:e.toLowerCase();const r=n.getExercisesPage(),o=await _(t,e,r);te(a.exercisesWrapper,o.results)}const re=n.getGroupPage(),$=n.getFilterCategory();a.groupListPagination.style.display="none";C({page:re,filter:$});n.isExercisesListVisible()?(R(),I()):v();a.exercisesNavList.forEach(t=>{t.textContent.trim()===$&&t.classList.add("exercises__nav-item-current")});a.groupList.addEventListener("click",t=>{let e=t.target.dataset.filter,r=t.target.dataset.group;r=r==null?void 0:r.toLowerCase(),e&&r&&(n.setGroup(r),n.setFilterCategory(e),R(),I())});
//# sourceMappingURL=commonHelpers2.js.map
