import{a as l,b as H,P as Q,i as w}from"./vendor-b94ca55b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const L=Object.freeze({BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",RATING:"/rating",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription"}),V=document.querySelector(".daily-quote"),{BASE_URL:z,QUOTE:K}=L;l.defaults.baseURL=z;const A=new Date().toISOString().split("T")[0],X=async()=>{const e=await l.get(K);return{quote:e.data.quote,author:e.data.author,date:A}},C=({author:e,quote:t})=>{V.innerHTML=`<p class="daily-quote-text">${t}</p>
    <h4 class="daily-quote-author">${e}</h4>`},Y=async()=>{const e=localStorage.getItem("quote");if(e){const s=JSON.parse(e);if(s.date===A){C(s);return}}const t=await X();localStorage.setItem("quote",JSON.stringify(t)),C(t)};Y();const{BASE_URL:J,FILTERS:Z}=L;l.defaults.baseURL=J;const b=async(e,t=1,s=12)=>{const n=new URLSearchParams({filter:e,limit:s,page:t});return(await l.get(`${Z}?${n}`)).data};document.querySelectorAll(".exercises__nav-item").forEach(e=>{e.addEventListener("click",async()=>{const t=e.getAttribute("data-category");try{const s=await b(t);console.log(s)}catch(s){console.error("Error fetching categories:",s)}})});const a={body:document.querySelector("body"),groupListWrapper:document.querySelector(".group-list-wrapper"),groupList:document.getElementById("js-group-list"),groupListPagination:document.getElementById("js-group-list-pagination"),exercisesNavList:document.querySelectorAll(".exercises__nav-item"),exercisesWrapper:document.querySelector(".exercises-list-wrapper")},P="selected-category",I="selected-group",h="is-exercises-list-visible",_="group-page",$="exercises-page",q="exercises-keyword",ee="Muscles";class te{setExercisesListVisible(){sessionStorage.setItem(h,"true")}setExercisesListHidden(){sessionStorage.setItem(h,"false")}isExercisesListVisible(){return sessionStorage.getItem(h)==="true"}setFilterCategory(t){sessionStorage.setItem(P,t)}getFilterCategory(){return sessionStorage.getItem(P)??ee}setGroup(t){sessionStorage.setItem(I,t)}getGroup(){return sessionStorage.getItem(I)??""}setGroupPage(t){sessionStorage.setItem(_,t.toString())}getGroupPage(){const t=sessionStorage.getItem(_);return t?Number(t):1}getExercisesPage(){const t=sessionStorage.getItem($);return t?Number(t):1}setExercisesPage(t){sessionStorage.setItem($,t.toString())}setExercisesKeyword(t){sessionStorage.setItem(q,t)}getExercisesKeyword(){return sessionStorage.getItem(q)??""}}const i=new te;function se(e){return e.map(({filter:t,name:s,imgURL:n})=>{const r=`data-filter="${t}"`,o=`data-group="${s}"`;return`
        <li class="group-list-card" ${r} ${o}>
          <img class="group-list-card-img" src="${n}" alt="${t} - ${s}" ${r} ${o}></img>
          <div class="group-list-card-info" ${r} ${o}>
          <h2 class="group-list-card-title" ${r} ${o}>${s}</h2>
          <p class="group-list-card-text" ${r} ${o}>${t}</p>
          </div>
        </li>
      `}).join("")}function re(){const e=a.groupList;e.style.opacity="0",H({targets:e,opacity:[0,1],duration:300,easing:"easeOutQuad",complete:()=>{a.groupListPagination.style.display="flex"}})}function T(e,t){e.innerHTML="",re(),e.insertAdjacentHTML("beforeend",se(t)),ne(),e.querySelectorAll(".group-list-card").forEach(n=>{n.addEventListener("click",()=>{const r=n.getAttribute("data-group");oe(r)})})}function oe(e){const t=document.querySelector(".exercises_name");t.textContent=`/ ${e}`,t.style.display="block",t.style.textTransform="capitalize"}function ne(){const e=document.querySelector(".exercises_name");e.style.display="none"}function ie({currentPage:e,perPage:t,totalItems:s,totalPages:n,onChange:r}){const o="js-group-list-pagination",c=a.groupListPagination;n>1&&!i.isExercisesListVisible()?c.classList.remove("is-hidden"):c.classList.add("is-hidden");const d={page:Number(e),itemsPerPage:t,totalItems:s,centerAlign:!0,template:{page:'<button href="#">{{page}}</button>',currentPage:'<button href="#" class="is-active">{{page}}</button>',moveButton:'<button href="#" class="is-hidden"></button>',disabledMoveButton:'<button href="#" class="is-hidden"></button>',moreButton:'<button href="#" class="is-hidden"></button>'}};new Q(o,d).on("beforeMove",m=>{const W=m.page;r(W)})}async function ae(e){const t=i.getFilterCategory(),s=await b(t,e),{results:n}=s,r=a.groupList;T(r,n)}async function U({page:e,filter:t}){const s=await b(t,e),{results:n,page:r,perPage:o,totalPages:c}=s,d=c*o;ie({currentPage:r,perPage:o,totalItems:d,totalPages:c,onChange:m=>{i.setGroupPage(m),ae(m)}});const p=a.groupList;T(p,n)}function B(){i.setExercisesListVisible(),a.groupListWrapper.classList.add("is-hidden"),a.exercisesWrapper.classList.remove("is-hidden")}function O(){i.setExercisesListHidden(),a.groupListWrapper.classList.remove("is-hidden"),a.exercisesWrapper.classList.add("is-hidden")}const ce=document.querySelector(".exercises_nav"),le=async e=>{try{let t=e.target,s=document.querySelector(".exercises__nav-item-current");((o,c)=>{o.classList.remove("exercises__nav-item-current"),c.classList.add("exercises__nav-item-current")})(s,t);const r=e.target.textContent.trim();a.groupList.innerHTML="",O(),i.setFilterCategory(r),i.setGroupPage(1),i.setExercisesPage(1),i.setExercisesKeyword(""),a.groupListPagination.style.display="none",U({page:1,filter:r})}catch(t){console.error(t)}};ce.addEventListener("click",le);const{BASE_URL:N,EXERCISES:R}=L;l.defaults.baseURL=N;const G=async(e,t,s=1,n=10)=>{const r=new URLSearchParams({[e]:t,limit:n,page:s});console.log(`Sending API request: ${N}${R}?${r}`);const o=await l.get(`${R}?${r}`);console.log("API response:",o.data);const c=document.querySelector(".exercises_search-input").value.toLowerCase(),d=o.data.results.filter(p=>p.name.toLowerCase().includes(c));return{...o.data,results:d}},x="/energy-project-team/assets/icons-6b93d54f.svg";function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function de(e){return e.map(({_id:t,bodyPart:s,target:n,rating:r,burnedCalories:o,time:c,name:d})=>`<li id="${t}" class="exercise-card">
          <div class="exercise-card-header-holder">
            <span class="exercise-card-tag">Workout</span>
            <span class="exercise-card-rating">
              <span>${r.toFixed(1)}</span>
              <svg width="34" height="32">
                <use href="${x}#star"></use>
              </svg>
            </span>
            <button class="exercise-card-header-btn" data-button-id="${t}">
              Start
              <svg class="exercise-card-header-btn-icon" width="32" height="32">
                <use href="${x}#arrow"></use>
              </svg>
              </svg>
            </button>
          </div>
          <div class="exercise-card-content-holder">
            <div class="exercise-card-title-holder">
              <span class="exercise-card-title-icon" >
                <svg width="20" height="20">
                  <use href="${x}#running-stick-figure"></use>
                </svg>
              </span>
              <div class="exercise-card-title-name">${S(d)}</div>
            </div>
            <div class="exercise-card-info-holder">
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Burned calories:</span>
                <span class="exercise-card-info-text">${o} / ${c} min</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Body part:</span>
                <span class="exercise-card-info-text">${S(s)}</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Target:</span>
                <span class="exercise-card-info-text">${S(n)}</span>
              </div>
            </div>
          </div>
        </li>`).join("")}function F(e,t){if(e.innerHTML="",!t||t.length===0){e.insertAdjacentHTML("beforeend",`<li class="error-card">
        There are no exercises matching your search. Please try another term.
      </li>`);return}e.insertAdjacentHTML("beforeend",de(t))}const ue=document.querySelector(".exercises_search-img"),y=document.querySelector(".exercises_criss-cross-img"),u=document.querySelector(".exercises_search-input");let E=window.innerWidth<768?8:10;const g=async()=>{const e=document.querySelector(".exercises_name").textContent,t=u.value;console.log(`Searching exercises - Category: ${e}, Search term: ${t}`);const s=await G(e,t,1,E);console.log("Full response:",s),s&&s.results?(console.log("Exercises data:",s.results),F(a.exercisesWrapper,s.results)):console.error("Invalid response structure:",s)};ue.addEventListener("click",g);y.addEventListener("click",()=>{u.value="",y.style.display="none",g()});u.addEventListener("input",()=>{u.value.length>0?y.style.display="block":y.style.display="none"});u.addEventListener("keypress",e=>{e.key==="Enter"&&g()});document.querySelectorAll(".exercises__nav-item").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".exercises__nav-item").forEach(s=>{s.classList.remove("active")}),e.classList.add("active");const t=e.textContent.trim();document.querySelector(".exercises_name").textContent=t,g()})});window.addEventListener("resize",()=>{const e=window.innerWidth<768?8:10;e!==E&&(E=e,g())});const ge={MUSCLES:"muscles",BODY_PARTS:"bodyparts",EQUIPMENT:"equipment"};async function k(){let e=i.getFilterCategory(),t=i.getGroup();e=e.toLowerCase().split(" ").join(""),e===ge.BODY_PARTS&&(e=e.slice(0,-1)),t=t==null?void 0:t.toLowerCase();const s=i.getExercisesPage(),n=await G(e,t,s);F(a.exercisesWrapper,n.results)}const pe=i.getGroupPage(),M=i.getFilterCategory();a.groupListPagination.style.display="none";U({page:pe,filter:M});i.isExercisesListVisible()?(k(),B()):O();a.exercisesNavList.forEach(e=>{e.textContent.trim()===M&&e.classList.add("exercises__nav-item-current")});document.addEventListener("DOMContentLoaded",()=>{const e=new URL(window.location.href),t=document.querySelector("#home"),s=document.querySelector("#favorites");(e.href===t.href||e.pathname==="/"||e.pathname==="/energy-project-team.git/")&&(s.classList.remove("current-page"),t.classList.add("current-page")),e.href===s.href&&(t.classList.remove("current-page"),s.classList.add("current-page"))});function me(){const e=document.querySelector(".burger"),t=document.querySelector(".nav-bar-mobile"),s=document.querySelector("body");e.addEventListener("click",function(){e.classList.toggle("change"),t.classList.toggle("is-hidden"),s.classList.toggle("overlow")})}me();a.groupList.addEventListener("click",e=>{let t=e.target.dataset.filter,s=e.target.dataset.group;s=s==null?void 0:s.toLowerCase(),t&&s&&(i.setGroup(s),i.setFilterCategory(t),k(),B())});const D=document.querySelector(".modal-exercises"),v=document.querySelector(".overlay");document.querySelector(".exercise-card-header-btn");function j(){D.classList.add("hidden"),v.classList.add("hidden"),document.body.style.paddingRight="0px",document.body.style.overflow="auto"}v.addEventListener("click",function(e){e.target===v&&j()});document.addEventListener("keydown",function(e){e.key==="Escape"&&!D.classList.contains("hidden")&&j()});const{BASE_URL:fe,SUBSCRIPTION:ye}=L;l.defaults.baseURL=fe;const Le=async e=>(await l.post(`${ye}`,{email:e})).data,f={form:document.querySelector(".subscribe__form"),emailInput:document.querySelector('[name="email"]')};async function he(e){if(e.preventDefault(),!!f.emailInput.value)try{const t=f.emailInput.value,s=await Le(t);w.success({title:"Success",message:s.message,position:"topRight"}),f.form.reset()}catch(t){w.error({title:"Error",message:t.response.data.message||t.message,position:"topRight"})}}f.form.addEventListener("submit",he);
//# sourceMappingURL=main-aa00e53c.js.map
