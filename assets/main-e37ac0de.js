import{a as l,b as j,P as W,i as w}from"./vendor-b94ca55b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const L=Object.freeze({BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",RATING:"/rating",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription"}),H=document.querySelector(".daily-quote"),{BASE_URL:Q,QUOTE:V}=L;l.defaults.baseURL=Q;const R=new Date().toISOString().split("T")[0],z=async()=>{const e=await l.get(V);return{quote:e.data.quote,author:e.data.author,date:R}},C=({author:e,quote:t})=>{H.innerHTML=`<p class="daily-quote-text">${t}</p>
    <h4 class="daily-quote-author">${e}</h4>`},K=async()=>{const e=localStorage.getItem("quote");if(e){const s=JSON.parse(e);if(s.date===R){C(s);return}}const t=await z();localStorage.setItem("quote",JSON.stringify(t)),C(t)};K();const{BASE_URL:X,FILTERS:Y}=L;l.defaults.baseURL=X;const b=async(e,t=1,s=12)=>{const i=new URLSearchParams({filter:e,limit:s,page:t});return(await l.get(`${Y}?${i}`)).data};document.querySelectorAll(".exercises__nav-item").forEach(e=>{e.addEventListener("click",async()=>{const t=e.getAttribute("data-category");try{const s=await b(t);console.log(s)}catch(s){console.error("Error fetching categories:",s)}})});const a={body:document.querySelector("body"),groupListWrapper:document.querySelector(".group-list-wrapper"),groupList:document.getElementById("js-group-list"),groupListPagination:document.getElementById("js-group-list-pagination"),exercisesNavList:document.querySelectorAll(".exercises__nav-item"),exercisesWrapper:document.querySelector(".exercises-list-wrapper")},P="selected-category",I="selected-group",h="is-exercises-list-visible",_="group-page",q="exercises-page",$="exercises-keyword",J="Muscles";class Z{setExercisesListVisible(){sessionStorage.setItem(h,"true")}setExercisesListHidden(){sessionStorage.setItem(h,"false")}isExercisesListVisible(){return sessionStorage.getItem(h)==="true"}setFilterCategory(t){sessionStorage.setItem(P,t)}getFilterCategory(){return sessionStorage.getItem(P)??J}setGroup(t){sessionStorage.setItem(I,t)}getGroup(){return sessionStorage.getItem(I)??""}setGroupPage(t){sessionStorage.setItem(_,t.toString())}getGroupPage(){const t=sessionStorage.getItem(_);return t?Number(t):1}getExercisesPage(){const t=sessionStorage.getItem(q);return t?Number(t):1}setExercisesPage(t){sessionStorage.setItem(q,t.toString())}setExercisesKeyword(t){sessionStorage.setItem($,t)}getExercisesKeyword(){return sessionStorage.getItem($)??""}}const n=new Z;function ee(e){return e.map(({filter:t,name:s,imgURL:i})=>{const r=`data-filter="${t}"`,o=`data-group="${s}"`;return`
        <li class="group-list-card" ${r} ${o}>
          <img class="group-list-card-img" src="${i}" alt="${t} - ${s}" ${r} ${o}></img>
          <div class="group-list-card-info" ${r} ${o}>
          <h2 class="group-list-card-title" ${r} ${o}>${s}</h2>
          <p class="group-list-card-text" ${r} ${o}>${t}</p>
          </div>
        </li>
      `}).join("")}function te(){const e=a.groupList;e.style.opacity="0",j({targets:e,opacity:[0,1],duration:300,easing:"easeOutQuad",complete:()=>{a.groupListPagination.style.display="flex"}})}function T(e,t){e.innerHTML="",te(),e.insertAdjacentHTML("beforeend",ee(t)),re(),e.querySelectorAll(".group-list-card").forEach(i=>{i.addEventListener("click",()=>{const r=i.getAttribute("data-group");se(r)})})}function se(e){const t=document.querySelector(".exercises_name");t.textContent=`/ ${e}`,t.style.display="block",t.style.textTransform="capitalize"}function re(){const e=document.querySelector(".exercises_name");e.style.display="none"}function oe({currentPage:e,perPage:t,totalItems:s,totalPages:i,onChange:r}){const o="js-group-list-pagination",c=a.groupListPagination;i>1&&!n.isExercisesListVisible()?c.classList.remove("is-hidden"):c.classList.add("is-hidden");const d={page:Number(e),itemsPerPage:t,totalItems:s,centerAlign:!0,template:{page:'<button href="#">{{page}}</button>',currentPage:'<button href="#" class="is-active">{{page}}</button>',moveButton:'<button href="#" class="is-hidden"></button>',disabledMoveButton:'<button href="#" class="is-hidden"></button>',moreButton:'<button href="#" class="is-hidden"></button>'}};new W(o,d).on("beforeMove",m=>{const D=m.page;r(D)})}async function ie(e){const t=n.getFilterCategory(),s=await b(t,e),{results:i}=s,r=a.groupList;T(r,i)}async function A({page:e,filter:t}){const s=await b(t,e),{results:i,page:r,perPage:o,totalPages:c}=s,d=c*o;oe({currentPage:r,perPage:o,totalItems:d,totalPages:c,onChange:m=>{n.setGroupPage(m),ie(m)}});const p=a.groupList;T(p,i)}function U(){n.setExercisesListVisible(),a.groupListWrapper.classList.add("is-hidden"),a.exercisesWrapper.classList.remove("is-hidden")}function B(){n.setExercisesListHidden(),a.groupListWrapper.classList.remove("is-hidden"),a.exercisesWrapper.classList.add("is-hidden")}const ne=document.querySelector(".exercises_nav"),ae=async e=>{try{let t=e.target,s=document.querySelector(".exercises__nav-item-current");((o,c)=>{o.classList.remove("exercises__nav-item-current"),c.classList.add("exercises__nav-item-current")})(s,t);const r=e.target.textContent.trim();a.groupList.innerHTML="",B(),n.setFilterCategory(r),n.setGroupPage(1),n.setExercisesPage(1),n.setExercisesKeyword(""),a.groupListPagination.style.display="none",A({page:1,filter:r})}catch(t){console.error(t)}};ne.addEventListener("click",ae);const{BASE_URL:ce,EXERCISES:le}=L;l.defaults.baseURL=ce;const O=async(e,t,s=1,i=10)=>{const r=new URLSearchParams({[e]:t,limit:i,page:s}),o=await l.get(`${le}?${r}`),c=document.querySelector(".exercises_search-input").value.toLowerCase(),d=o.data.results.filter(p=>p.name.toLowerCase().includes(c));return{...o.data,results:d}},x="/energy-project-team/assets/icons-6b93d54f.svg";function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function de(e){return e.map(({_id:t,bodyPart:s,target:i,rating:r,burnedCalories:o,time:c,name:d})=>`<li id="${t}" class="exercise-card">
          <div class="exercise-card-header-holder">
            <span class="exercise-card-tag">Workout</span>
            <span class="exercise-card-rating">
              <span>${r.toFixed(1)}</span>
              <svg width="34" height="32">
                <use href="${x}#star"></use>
              </svg>
            </span>
            <button class="exercise-card-header-btn" data-button-id="${t}">
              Start
              <svg class="exercise-card-header-btn-icon" width="32" height="32">
                <use href="${x}#arrow"></use>
              </svg>
              </svg>
            </button>
          </div>
          <div class="exercise-card-content-holder">
            <div class="exercise-card-title-holder">
              <span class="exercise-card-title-icon" >
                <svg width="20" height="20">
                  <use href="${x}#running-stick-figure"></use>
                </svg>
              </span>
              <div class="exercise-card-title-name">${E(d)}</div>
            </div>
            <div class="exercise-card-info-holder">
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Burned calories:</span>
                <span class="exercise-card-info-text">${o} / ${c} min</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Body part:</span>
                <span class="exercise-card-info-text">${E(s)}</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Target:</span>
                <span class="exercise-card-info-text">${E(i)}</span>
              </div>
            </div>
          </div>
        </li>`).join("")}function N(e,t){if(e.innerHTML="",!t||t.length===0){e.insertAdjacentHTML("beforeend",`<li class="error-card">
        There are no exercises matching your search. Please try another term.
      </li>`);return}e.insertAdjacentHTML("beforeend",de(t))}const ue=document.querySelector(".exercises_search-img"),y=document.querySelector(".exercises_criss-cross-img"),u=document.querySelector(".exercises_search-input");let S=window.innerWidth<768?8:10;const g=async()=>{const e=document.querySelector(".exercises_name").textContent,t=u.value,s=await O(e,t,1,S);s&&s.results?N(a.exercisesWrapper,s.results):console.error("Invalid response structure:",s)};ue.addEventListener("click",g);y.addEventListener("click",()=>{u.value="",y.style.display="none",g()});u.addEventListener("input",()=>{u.value.length>0?y.style.display="block":y.style.display="none"});u.addEventListener("keypress",e=>{e.key==="Enter"&&g()});document.querySelectorAll(".exercises__nav-item").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".exercises__nav-item").forEach(s=>{s.classList.remove("active")}),e.classList.add("active");const t=e.textContent.trim();document.querySelector(".exercises_name").textContent=t,g()})});window.addEventListener("resize",()=>{const e=window.innerWidth<768?8:10;e!==S&&(S=e,g())});const ge={MUSCLES:"muscles",BODY_PARTS:"bodyparts",EQUIPMENT:"equipment"};async function G(){let e=n.getFilterCategory(),t=n.getGroup();e=e.toLowerCase().split(" ").join(""),e===ge.BODY_PARTS&&(e=e.slice(0,-1)),t=t==null?void 0:t.toLowerCase();const s=n.getExercisesPage(),i=await O(e,t,s);N(a.exercisesWrapper,i.results)}const pe=n.getGroupPage(),k=n.getFilterCategory();a.groupListPagination.style.display="none";A({page:pe,filter:k});n.isExercisesListVisible()?(G(),U()):B();a.exercisesNavList.forEach(e=>{e.textContent.trim()===k&&e.classList.add("exercises__nav-item-current")});document.addEventListener("DOMContentLoaded",()=>{const e=new URL(window.location.href),t=document.querySelector("#home"),s=document.querySelector("#favorites");(e.href===t.href||e.pathname==="/"||e.pathname==="/energy-project-team.git/")&&(s.classList.remove("current-page"),t.classList.add("current-page")),e.href===s.href&&(t.classList.remove("current-page"),s.classList.add("current-page"))});function me(){const e=document.querySelector(".burger"),t=document.querySelector(".nav-bar-mobile"),s=document.querySelector("body");e.addEventListener("click",function(){e.classList.toggle("change"),t.classList.toggle("is-hidden"),s.classList.toggle("overlow")})}me();a.groupList.addEventListener("click",e=>{let t=e.target.dataset.filter,s=e.target.dataset.group;s=s==null?void 0:s.toLowerCase(),t&&s&&(n.setGroup(s),n.setFilterCategory(t),G(),U())});const F=document.querySelector(".modal-exercises"),v=document.querySelector(".overlay");document.querySelector(".exercise-card-header-btn");function M(){F.classList.add("hidden"),v.classList.add("hidden"),document.body.style.paddingRight="0px",document.body.style.overflow="auto"}v.addEventListener("click",function(e){e.target===v&&M()});document.addEventListener("keydown",function(e){e.key==="Escape"&&!F.classList.contains("hidden")&&M()});const{BASE_URL:fe,SUBSCRIPTION:ye}=L;l.defaults.baseURL=fe;const Le=async e=>(await l.post(`${ye}`,{email:e})).data,f={form:document.querySelector(".subscribe__form"),emailInput:document.querySelector('[name="email"]')};async function he(e){if(e.preventDefault(),!!f.emailInput.value)try{const t=f.emailInput.value,s=await Le(t);w.success({title:"Success",message:s.message,position:"topRight"}),f.form.reset()}catch(t){w.error({title:"Error",message:t.response.data.message||t.message,position:"topRight"})}}f.form.addEventListener("submit",he);
//# sourceMappingURL=main-e37ac0de.js.map
