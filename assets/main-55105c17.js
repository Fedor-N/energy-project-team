import{a as l,b as D,P as j,i as E}from"./vendor-b94ca55b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const y=Object.freeze({BASE_URL:"https://your-energy.b.goit.study/api",EXERCISES:"/exercises",RATING:"/rating",FILTERS:"/filters",QUOTE:"/quote",SUBSCRIPTION:"/subscription"}),H=document.querySelector(".daily-quote"),{BASE_URL:W,QUOTE:Q}=y;l.defaults.baseURL=W;const _=new Date().toISOString().split("T")[0],V=async()=>{const e=await l.get(Q);return{quote:e.data.quote,author:e.data.author,date:_}},v=({author:e,quote:t})=>{H.innerHTML=`<p class="daily-quote-text">${t}</p>
    <h4 class="daily-quote-author">${e}</h4>`},K=async()=>{const e=localStorage.getItem("quote");if(e){const s=JSON.parse(e);if(s.date===_){v(s);return}}const t=await V();localStorage.setItem("quote",JSON.stringify(t)),v(t)};K();const{BASE_URL:X,FILTERS:z}=y;l.defaults.baseURL=X;const $=async(e="Muscles",t=1,s=12)=>{const n=new URLSearchParams({filter:e,limit:s,page:t});return(await l.get(`${z}?${n}`)).data},a={body:document.querySelector("body"),groupListWrapper:document.querySelector(".group-list-wrapper"),groupList:document.getElementById("js-group-list"),groupListPagination:document.getElementById("js-group-list-pagination"),exercisesNavList:document.querySelectorAll(".exercises__nav-item"),exercisesWrapper:document.querySelector(".exercises-list-wrapper")},b="selected-category",C="selected-group",L="is-exercises-list-visible",P="group-page",I="exercises-page",w="exercises-keyword",Y="Muscles";class J{setExercisesListVisible(){sessionStorage.setItem(L,"true")}setExercisesListHidden(){sessionStorage.setItem(L,"false")}isExercisesListVisible(){return sessionStorage.getItem(L)==="true"}setFilterCategory(t){sessionStorage.setItem(b,t)}getFilterCategory(){return sessionStorage.getItem(b)??Y}setGroup(t){sessionStorage.setItem(C,t)}getGroup(){return sessionStorage.getItem(C)??""}setGroupPage(t){sessionStorage.setItem(P,t.toString())}getGroupPage(){const t=sessionStorage.getItem(P);return t?Number(t):1}getExercisesPage(){const t=sessionStorage.getItem(I);return t?Number(t):1}setExercisesPage(t){sessionStorage.setItem(I,t.toString())}setExercisesKeyword(t){sessionStorage.setItem(w,t)}getExercisesKeyword(){return sessionStorage.getItem(w)??""}}const i=new J;function Z(e){return e.map(({filter:t,name:s,imgURL:n})=>{const r=`data-filter="${t}"`,o=`data-group="${s}"`;return`
        <li class="group-list-card" ${r} ${o}>
          <img class="group-list-card-img" src="${n}" alt="${t} - ${s}" ${r} ${o}></img>
          <div class="group-list-card-info" ${r} ${o}>
          <h2 class="group-list-card-title" ${r} ${o}>${s}</h2>
          <p class="group-list-card-text" ${r} ${o}>${t}</p>
          </div>
        </li>
      `}).join("")}function ee(){const e=a.groupList;e.style.opacity="0",D({targets:e,opacity:[0,1],duration:300,easing:"easeOutQuad",complete:()=>{a.groupListPagination.style.display="flex"}})}function q(e,t){e.innerHTML="",ee(),e.insertAdjacentHTML("beforeend",Z(t)),se(),e.querySelectorAll(".group-list-card").forEach(n=>{n.addEventListener("click",()=>{const r=n.getAttribute("data-group");te(r)})})}function te(e){const t=document.querySelector(".exercises_name");t.textContent=`/ ${e}`,t.style.display="block",t.style.textTransform="capitalize"}function se(){const e=document.querySelector(".exercises_name");e.style.display="none"}function re({currentPage:e,perPage:t,totalItems:s,totalPages:n,onChange:r}){const o="js-group-list-pagination",c=a.groupListPagination;n>1&&!i.isExercisesListVisible()?c.classList.remove("is-hidden"):c.classList.add("is-hidden");const u={page:Number(e),itemsPerPage:t,totalItems:s,centerAlign:!0,template:{page:'<button href="#">{{page}}</button>',currentPage:'<button href="#" class="is-active">{{page}}</button>',moveButton:'<button href="#" class="is-hidden"></button>',disabledMoveButton:'<button href="#" class="is-hidden"></button>',moreButton:'<button href="#" class="is-hidden"></button>'}};new j(o,u).on("beforeMove",g=>{const k=g.page;r(k)})}async function oe(e){const t=i.getFilterCategory(),s=await $(t,e),{results:n}=s,r=a.groupList;q(r,n)}async function R({page:e,filter:t}){const s=await $(t,e),{results:n,page:r,perPage:o,totalPages:c}=s,u=c*o;re({currentPage:r,perPage:o,totalItems:u,totalPages:c,onChange:g=>{i.setGroupPage(g),oe(g)}});const d=a.groupList;q(d,n)}function T(){i.setExercisesListVisible(),a.groupListWrapper.classList.add("is-hidden"),a.exercisesWrapper.classList.remove("is-hidden")}function A(){i.setExercisesListHidden(),a.groupListWrapper.classList.remove("is-hidden"),a.exercisesWrapper.classList.add("is-hidden")}const ne=document.querySelector(".exercises_nav"),ie=async e=>{try{let t=e.target,s=document.querySelector(".exercises__nav-item-current");((o,c)=>{o.classList.remove("exercises__nav-item-current"),c.classList.add("exercises__nav-item-current")})(s,t);const r=e.target.textContent.trim();a.groupList.innerHTML="",A(),i.setFilterCategory(r),i.setGroupPage(1),i.setExercisesPage(1),i.setExercisesKeyword(""),a.groupListPagination.style.display="none",R({page:1,filter:r})}catch(t){console.error(t)}};ne.addEventListener("click",ie);const{BASE_URL:ae,EXERCISES:ce}=y;l.defaults.baseURL=ae;const U=async(e,t,s=1,n=10)=>{const r=new URLSearchParams({[e]:t,limit:n,page:s}),o=await l.get(`${ce}?${r}`);console.log(`Fetching exercises with params: ${r.toString()}`),console.log("API response:",o.data);const c=document.querySelector(".exercises_search-input").value.toLowerCase(),u=o.data.results.filter(d=>d.name.toLowerCase().includes(c));return{...o.data,results:u}},x="/energy-project-team/assets/icons-6b93d54f.svg";function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function le(e){return e.map(({_id:t,bodyPart:s,target:n,rating:r,burnedCalories:o,time:c,name:u})=>`<li id="${t}" class="exercise-card">
          <div class="exercise-card-header-holder">
            <span class="exercise-card-tag">Workout</span>
            <span class="exercise-card-rating">
              <span>${r.toFixed(1)}</span>
              <svg width="34" height="32">
                <use href="${x}#star"></use>
              </svg>
            </span>
            <button class="exercise-card-header-btn" data-button-id="${t}">
              Start
              <svg class="exercise-card-header-btn-icon" width="32" height="32">
                <use href="${x}#arrow"></use>
              </svg>
              </svg>
            </button>
          </div>
          <div class="exercise-card-content-holder">
            <div class="exercise-card-title-holder">
              <span class="exercise-card-title-icon" >
                <svg width="20" height="20">
                  <use href="${x}#running-stick-figure"></use>
                </svg>
              </span>
              <div class="exercise-card-title-name">${S(u)}</div>
            </div>
            <div class="exercise-card-info-holder">
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Burned calories:</span>
                <span class="exercise-card-info-text">${o} / ${c} min</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Body part:</span>
                <span class="exercise-card-info-text">${S(s)}</span>
              </div>
              <div class="exercise-card-info">
                <span class="exercise-card-info-title">Target:</span>
                <span class="exercise-card-info-text">${S(n)}</span>
              </div>
            </div>
          </div>
        </li>`).join("")}function B(e,t){if(e.innerHTML="",!t||t.length===0){e.insertAdjacentHTML("beforeend",`<li class="error-card">
        There are no exercises matching your search. Please try another term.
      </li>`);return}e.insertAdjacentHTML("beforeend",le(t))}const ue=document.querySelector(".exercises_search-img"),m=document.querySelector(".exercises_criss-cross-img"),f=document.querySelector(".exercises_search-input"),O=async()=>{const e=await U(document.querySelector(".exercises_name").textContent,document.querySelector(".exercises_search-input").value);console.log("Full response:",e),console.log("NAME: "+document.querySelector(".exercises_name").textContent),console.log("SEARCH: "+document.querySelector(".exercises_search-input").value),e&&e.results?(console.log("Exercises data:",e.results),B(a.exercisesWrapper,e.results)):console.error("Invalid response structure:",e)};ue.addEventListener("click",O);m.addEventListener("click",()=>{f.value="",m.style.display="none"});f.addEventListener("input",()=>{f.value.length>0?m.style.display="block":m.style.display="none"});f.addEventListener("keypress",e=>{e.key==="Enter"&&O()});const de={MUSCLES:"muscles",BODY_PARTS:"bodyparts",EQUIPMENT:"equipment"};async function N(){let e=i.getFilterCategory(),t=i.getGroup();e=e.toLowerCase().split(" ").join(""),e===de.BODY_PARTS&&(e=e.slice(0,-1)),t=t==null?void 0:t.toLowerCase();const s=i.getExercisesPage(),n=await U(e,t,s);B(a.exercisesWrapper,n.results)}const ge=i.getGroupPage(),F=i.getFilterCategory();a.groupListPagination.style.display="none";R({page:ge,filter:F});i.isExercisesListVisible()?(N(),T()):A();a.exercisesNavList.forEach(e=>{e.textContent.trim()===F&&e.classList.add("exercises__nav-item-current")});document.addEventListener("DOMContentLoaded",()=>{const e=new URL(window.location.href),t=document.querySelector("#home"),s=document.querySelector("#favorites");(e.href===t.href||e.pathname==="/"||e.pathname==="/energy-project-team.git/")&&(s.classList.remove("current-page"),t.classList.add("current-page")),e.href===s.href&&(t.classList.remove("current-page"),s.classList.add("current-page"))});function pe(){const e=document.querySelector(".burger"),t=document.querySelector(".nav-bar-mobile"),s=document.querySelector("body");e.addEventListener("click",function(){e.classList.toggle("change"),t.classList.toggle("is-hidden"),s.classList.toggle("overlow")})}pe();a.groupList.addEventListener("click",e=>{let t=e.target.dataset.filter,s=e.target.dataset.group;s=s==null?void 0:s.toLowerCase(),t&&s&&(i.setGroup(s),i.setFilterCategory(t),N(),T())});const G=document.querySelector(".modal-exercises"),h=document.querySelector(".overlay");document.querySelector(".exercise-card-header-btn");function M(){G.classList.add("hidden"),h.classList.add("hidden"),document.body.style.paddingRight="0px",document.body.style.overflow="auto"}h.addEventListener("click",function(e){e.target===h&&M()});document.addEventListener("keydown",function(e){e.key==="Escape"&&!G.classList.contains("hidden")&&M()});const{BASE_URL:me,SUBSCRIPTION:fe}=y;l.defaults.baseURL=me;const ye=async e=>(await l.post(`${fe}`,{email:e})).data,p={form:document.querySelector(".subscribe__form"),emailInput:document.querySelector('[name="email"]')};async function Le(e){if(e.preventDefault(),!!p.emailInput.value)try{const t=p.emailInput.value,s=await ye(t);E.success({title:"Success",message:s.message,position:"topRight"}),p.form.reset()}catch(t){E.error({title:"Error",message:t.response.data.message||t.message,position:"topRight"})}}p.form.addEventListener("submit",Le);
//# sourceMappingURL=main-55105c17.js.map
